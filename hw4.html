<!DOCTYPE html>
<html>
<head>
<style type="text/css">
</style>

	<title>XML Parser</title>
</head>
<body style="text-align: center;">
<p>Enter URL for Company list XML file</p>
<input type="text" id="url"><br><br>
<input type="submit" value="Submit Query" onclick="loadXML()">
<script type="text/javascript">
	
			var xmlDoc;
			function loadXML() {
			var url = document.getElementById("url").value;
			if (url == "") {
				alert("Please enter URL in the text box to continue");
			}
			else {
				if (window.XMLHttpRequest)
				 {
				 // code for IE7+, Firefox, Chrome, Opera, Safari
				 xmlhttp = new XMLHttpRequest();
				 }
				 else
				 {
				 // code for IE6, IE5
				 xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
				 }
				 xmlhttp.open("GET",url,false); //open, send, responseXML are
				 xmlhttp.send(); //properties of XMLHTTPRequest
				 xmlDoc=xmlhttp.responseXML;
				 var rows = xmlDoc.getElementsByTagName("Row");
				 document.write("<table border='1'><tr><th>Network</th><th>Owner</th><th>Feeds</th><th>Notes</th><th>HomePage</th><th>Logo</th></tr>");	
				 for (i = 0; i < rows.length; i++)
				  { 
					  document.write("<tr><td>");
					  document.write(rows[i].getElementsByTagName("Network")[0].childNodes[0].nodeValue);
					  document.write("</td><td>");
					  document.write(rows[i].getElementsByTagName("Owner")[0].childNodes[0].nodeValue);
					  document.write("</td><td>");
					  var feeds = rows[i].getElementsByTagName("Feed");
					  
				 	  for (j=0; j< feeds.length; j++){
				 	  	document.write("<ul><li>");
						  document.write(feeds[j].childNodes[0].nodeValue);
						  document.write("</li></ul>");
						  
						}
						document.write("</td><td>");
					  document.write(rows[i].getElementsByTagName("Notes")[0].childNodes[0].nodeValue);
					  document.write("</td><td><a href='");
					  document.write(rows[i].getElementsByTagName("HomePage")[0].childNodes[0].nodeValue);
					  document.write("'>");
					  document.write(rows[i].getElementsByTagName("HomePage")[0].childNodes[0].nodeValue);
					  document.write("</a></td><td><img src='");
					  document.write(rows[i].getElementsByTagName("Logo")[0].childNodes[0].nodeValue);
					  document.write("'></td></tr>");
				  }
				document.write("</table>");
				document.close();
				console.log("Finished");
			}
		}
</script>
</body>
</html>